---
import Section from "../Section.astro";
import { highlightedSkills, databasesSkills, otherSkills } from "@cv";

import Java from "@/icons/java.astro";
import Spring from "@/icons/spring.astro";
import Angular from "@/icons/angular.astro";
import Docker from "@/icons/docker.astro";
import Kubernetes from "@/icons/kubernetes.astro";
import CICD from "@/icons/cicd.astro";
import Javascript from "@/icons/javascript.astro";
import Typescript from "@/icons/typescript.astro";
import Node from "@/icons/node.astro";
import Python from "@/icons/python.astro";
import Go from "@/icons/go.astro";
import PostgreSQL from "@/icons/postgresql.astro";
import OracleSQL from "@/icons/oraclesql.astro";
import MySQL from "@/icons/mysql.astro";
import MongoDB from "@/icons/mongodb.astro";
import Firebase from "@/icons/firebase.astro";
import React from "@/icons/react.astro";
import Vue from "@/icons/vue.astro";
import Astrosvg from "@/icons/astrosvg.astro";

const SKILLS_ICONS = {
  Java,
  Spring,
  Angular,
  Docker,
  Kubernetes,
  CICD,
  Javascript,
  Typescript,
  Node,
  Python,
  Go,
  PostgreSQL,
  OracleSQL,
  MySQL,
  MongoDB,
  Firebase,
  React,
  Vue,
  Astrosvg,
} as const;
---

<Section title="Habilidades">
  <div class="card">
    <!-- Habilidades Destacadas -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-secondary-dark mb-4">Principales tecnologías</h3>
      <ul class="skills-list highlighted-skills">
        {
          highlightedSkills.map(({ name, icon }) => {
            const IconComponent = SKILLS_ICONS[icon as keyof typeof SKILLS_ICONS];
            return (
              <li class="skill-tag skill-tag-highlight" aria-label={`Habilidad destacada: ${name}`}>
                {IconComponent ? <IconComponent /> : null}
                <span>{name}</span>
              </li>
            );
          })
        }
      </ul>
    </div>

    <!-- Otras habilidades -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-secondary-dark mb-4">Otras tecnologías</h3>
      <ul class="skills-list">
        {
          otherSkills.map(({ name, icon }) => {
            const IconComponent = SKILLS_ICONS[icon as keyof typeof SKILLS_ICONS];
            return (
              <li class="skill-tag" aria-label={`Habilidad: ${name}`}>
                {IconComponent && <IconComponent />}
                <span>{name}</span>
              </li>
            );
          })
        }
      </ul>
    </div>

    <!-- Bases de datos -->
    <div>
      <h3 class="text-lg font-semibold text-secondary-dark mb-4">Bases de datos</h3>
      <ul class="skills-list">
        {
          databasesSkills.map(({ name, icon }) => {
            const IconComponent = SKILLS_ICONS[icon as keyof typeof SKILLS_ICONS];
            return (
              <li class="skill-tag" aria-label={`Base de datos: ${name}`}>
                {IconComponent && <IconComponent />}
                <span>{name}</span>
              </li>
            );
          })
        }
      </ul>
    </div>
  </div>
</Section>

<style>
  .skills-list {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    padding: 0;
    list-style: none;
  }

  .skill-tag {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #f4f4f4;
    border-radius: 50px;
    color: #2c3e50;
    font-size: 0.9rem;
    font-weight: 500;
    padding: 0.5rem 1rem;
    transition: all 0.2s ease;
    border: 1px solid #e0e0e0;
  }

  .skill-tag:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .skill-tag-highlight {
    background: rgba(29, 78, 137, 0.1);
    color: #1d4e89;
    font-weight: 600;
    border-color: rgba(29, 78, 137, 0.2);
  }

  @media (max-width: 700px) {
    .skill-tag {
      font-size: 0.8rem;
      padding: 0.4rem 0.8rem;
    }
  }
</style>
